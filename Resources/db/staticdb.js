var FACTOR = 0.0093;
hotels=[
{	"pool":false,
	"image":"../images/WELCM_EXTR_1_B.jpg",
	"parking":true,
	"thumbnail":"../images/WELCM_EXTR_1_B.jpg",
	"address":"CALZ. TLALPAN NO. 1507 COL PORTALES, MEXICO CITY, MEXICO",
	"paymethods":["VISA","MASTERCARD"],
	"telephone":"52-55-2595-2595",
	"prices":[{"price":2157,"room":"single"},{"price":2500,"room":"double"}],
	"header":"C",
	"latitude":19.3627,
	"name":"Holiday Inn - MEXICO COYOACAN",
	"stars":4,
	"id":6,
	"longitude":-99.1395
},
{	"pool":false,
	"image":"../images/WELCM_EXTR_1_B.jpg",
	"parking":true,
	"thumbnail":"../images/WELCM_EXTR_1_B.jpg",
	"address":"ROBERTO FULTON 2-A AVE., TLALNEPANTLA,MEXICO",
	"paymethods":["VISA","MASTERCARD"],
	"telephone":"52-55-1164 1164",
	"prices":[{"price":2157,"room":"single"},{"price":2500,"room":"double"}],
	"header":"C",
	"latitude":19.5389,
	"name":"Crowne Plaza - MEXICO CITY NORTH-TLALNEPANTLA",
	"stars":4,
	"id":15,
	"longitude":-99.2032
},
{	"pool":false,
	"image":"../images/WELCM_EXTR_4_B.jpg",
	"parking":true,
	"thumbnail":"../images/WELCM_EXTR_4_B.jpg",
	"address":"DAKOTA : 95, MEXICO CITY, MEXICO",
	"paymethods":["VISA","MASTERCARD"],
	"telephone":"",
	"prices":[{"price":2157,"room":"single"},{"price":2500,"room":"double"}],
	"header":"C",
	"latitude":19.3958,
	"name":"Crowne Plaza - HOTEL DE MEXICO",
	"stars":4,
	"id":14,
	"longitude":-99.175
},
{	"pool":false,
	"image":"../images/WELCM_EXTR_1_B.jpg",
	"parking":true,
	"thumbnail":"../images/WELCM_EXTR_1_B.jpg",
	"address":"VIADUCTO RIO DE LA PIEDAD : 260, MEXICO CITY, MEXICO",
	"paymethods":["VISA","MASTERCARD"],
	"telephone":"52-55-50360990",
	"prices":[{"price":2157,"room":"single"},{"price":2500,"room":"double"}],
	"header":"D",
	"latitude":19.406,
	"name":"Holiday Inn - MEXICO DALI AIRPORT",
	"stars":4,
	"id":7,
	"longitude":-99.1192
},
{	"pool":false,
	"image":"../images/WELCM_EXTR_1_B.jpg",
	"parking":true,
	"thumbnail":"../images/WELCM_EXTR_1_B.jpg",
	"address":"PUENTE DE PIEDRA : 150, MEXICO CITY, MEXICO",
	"paymethods":["VISA","MASTERCARD"],
	"telephone":"52-55-54249400",
	"prices":[{"price":2157,"room":"single"},{"price":2500,"room":"double"}],
	"header":"M",
	"latitude":19.29731,
	"name":"Holiday Inn Hotel & Suites - MEXICO MEDICA SUR",
	"stars":4,
	"id":8,
	"longitude":-99.15244
},
{	"pool":false,
	"image":"../images/RSTLN_LNGE_1_B.jpg",
	"parking":true,
	"thumbnail":"../images/RSTLN_LNGE_1_B.jpg",
	"address":"GUSTAVO BAZ BLVD 4873, TLALNEPANTLA, MEXICO",
	"paymethods":["VISA","MASTERCARD"],
	"telephone":"52-55-53215191",
	"prices":[{"price":2157,"room":"single"},{"price":2500,"room":"double"}],
	"header":"P",
	"latitude":19.58397,
	"name":"Holiday Inn - CIUDAD DE MEXICO PERINORTE",
	"stars":4,
	"id":9,
	"longitude":-99.203042
},

{	"pool":false,
	"image":"../images/WELCM_FDSK_1_B.jpg",
	"parking":true,
	"thumbnail":"../images/WELCM_FDSK_1_B.jpg",
	"address":"PARROQUIA : 1056, MEXICO CITY, MEXICO",
	"paymethods":["VISA","MASTERCARD"],
	"telephone":"52-55-91837700",
	"prices":[{"price":2157,"room":"single"},{"price":2500,"room":"double"}],
	"header":"P",
	"latitude":19.36851,
	"name":"Holiday Inn - MEXICO CITY-PLAZA UNIVERSIDAD",
	"stars":4,
	"id":3,
	"longitude":-99.1663
},
{	"pool":false,
	"image":"../images/WELCM_ENTR_1_B.jpg",
	"parking":true,
	"thumbnail":"../images/WELCM_ENTR_1_B.jpg",
	"address":"CAMPOS ELISEOS 218, MEXICO CITY,MEXICO",
	"paymethods":["VISA","MASTERCARD"],
	"telephone":"52-55-53277700",
	"prices":[{"price":2157,"room":"single"},{"price":2500,"room":"double"}],
	"header":"H",
	"latitude":19.4281,
	"name":"InterContinental - PRESIDENTE MEXICO CITY",
	"stars":4,
	"id":13,
	"longitude":-99.1932
},

{	"pool":false,
	"image":"../images/WELCM_EXTR_1_B.jpg",
	"parking":true,
	"thumbnail":"../images/WELCM_EXTR_1_B.jpg",
	"address":"DAKOTA # 95, MEXICO CITY, MEXICO",
	"paymethods":["VISA","MASTERCARD"],
	"telephone":"52-55-11641160",
	"prices":[{"price":2157,"room":"single"},{"price":2500,"room":"double"}],
	"header":"W",
	"latitude":19.396122,
	"name":"Holiday Inn Express Hotel & Suites - MEXICO CITY AT THE WTC",
	"stars":4,
	"id":10,
	"longitude":-99.174249
},
{	"pool":false,
	"image":"../images/GROOM_ROOM_2_B.jpg",
	"parking":true,
	"thumbnail":"../images/GROOM_ROOM_2_B.jpg",
	"address":"PASEO DE LA REFORMA #208, MEXICO CITY, MEXICO",
	"paymethods":["VISA","MASTERCARD"],
	"telephone":"52-55-91505900",
	"prices":[{"price":2157,"room":"single"},{"price":2500,"room":"double"}],
	"header":"R",
	"latitude":19.4307,
	"name":"Holiday Inn Express - MEXICO REFORMA",
	"stars":4,
	"id":11,
	"longitude":-99.16
},
{	"pool":false,
	"image":"../images/WELCM_EXTR_1_B.jpg",
	"parking":true,
	"thumbnail":"../images/WELCM_EXTR_1_B.jpg",
	"address":"DAKOTA # 95, MEXICO CITY, MEXICO",
	"paymethods":["VISA","MASTERCARD"],
	"telephone":"",
	"prices":[{"price":2157,"room":"single"},{"price":2500,"room":"double"}],
	"header":"H",
	"latitude":19.396122,
	"name":"Holiday Inn Express Hotel & Suites - MEXICO CITY AT THE WTC",
	"stars":4,
	"id":10,
	"longitude":-99.174249
},
{	"pool":false,
	"image":"../images/GROOM_ROOM_2_B.jpg",
	"parking":true,
	"thumbnail":"../images/GROOM_ROOM_2_B.jpg",
	"address":"PASEO DE LA REFORMA #208, MEXICO CITY, MEXICO",
	"paymethods":["VISA","MASTERCARD"],
	"telephone":"",
	"prices":[{"price":2157,"room":"single"},{"price":2500,"room":"double"}],
	"header":"R",
	"latitude":19.4307,
	"name":"Holiday Inn Express - MEXICO REFORMA",
	"stars":4,
	"id":11,
	"longitude":-99.16
},
{	"pool":false,
	"image":"../images/WELCM_EXTR_04_B.jpg",
	"parking":true,
	"thumbnail":"../images/WELCM_EXTR_04_B.jpg",
	"address":"GUILLERMO GONZALEZ CAMARENA 1400, MEXICO CITY, MEXICO",
	"paymethods":["VISA","MASTERCARD"],
	"telephone":"52-555-2452870",
	"prices":[{"price":2157,"room":"single"},{"price":2500,"room":"double"}],
	"header":"S",
	"latitude":19.364558,
	"name":"Holiday Inn Express - MEXICO SANTA FE",
	"stars":4,
	"id":12,
	"longitude":-99.265114
},

{	"pool":false,
	"image":"../images/WELCM_EXTR_1_B.jpg",
	"parking":true,
	"thumbnail":"../images/WELCM_EXTR_1_B.jpg",
	"address":"SAN LUIS TLATILCO #2, NAUCALPAN, MEXICO",
	"paymethods":["VISA","MASTERCARD"],
	"telephone":"52-55-53129760",
	"prices":[{"price":2157,"room":"single"},{"price":2500,"room":"double"}],
	"header":"T",
	"latitude":19.46525,
	"name":"Holiday Inn - MEXICO TOREO-SATELITE",
	"stars":4,
	"id":5,
	"longitude":-99.23886
},
{	"pool":false,
	"image":"../images/WELCM_HVEW_1_B.jpg",
	"parking":true,
	"thumbnail":"../images/WELCM_HVEW_1_B.jpg",
	"address":"AVE. REVOLUCION #583, MEXICO CITY,MEXICO",
	"paymethods":["VISA","MASTERCARD"],
	"telephone":"52-55-52789950",
	"prices":[{"price":2157,"room":"single"},{"price":2500,"room":"double"}],
	"header":"T",
	"latitude":19.387755,
	"name":"Holiday Inn - CIUDAD DE MEXICO-TRADE CENTER",
	"stars":4,
	"id":1,
	"longitude":-99.186363
},
{	"pool":false,
	"image":"../images/WELCM_EXTR_1_B.jpg",
	"parking":true,
	"thumbnail":"../images/WELCM_EXTR_1_B.jpg",
	"address":"DAKOTA # 95, MEXICO CITY, MEXICO",
	"paymethods":["VISA","MASTERCARD"],
	"telephone":"",
	"prices":[{"price":2157,"room":"single"},{"price":2500,"room":"double"}],
	"header":"W",
	"latitude":19.396122,
	"name":"Holiday Inn Express Hotel & Suites - MEXICO CITY AT THE WTC",
	"stars":4,
	"id":10,
	"longitude":-99.174249
},

{	"pool":false,
	"image":"../images/WELCM_EXTR_1_B.jpg",
	"parking":true,
	"thumbnail":"../images/WELCM_EXTR_1_B.jpg",
	"address":"AV. CINCO DE MAYO : 61, MEXICO CITY, MEXICO",
	"paymethods":["VISA","MASTERCARD"],
	"telephone":"2-55-51305130",
	"prices":[{"price":2157,"room":"single"},{"price":2500,"room":"double"}],
	"header":"Z",
	"latitude":19.433895,
	"name":"Holiday Inn - MEXICO ZOCALO",
	"stars":4,
	"id":4,
	"longitude":-99.134348
},
{"pool":false,
	"image":"../images/WELCM_EXTR_1_B.jpg",
	"parking":true,
	"thumbnail":"../images/WELCM_EXTR_1_B.jpg",
	"address":"LONDRES : 15, MEXICO CITY D. F., MEXICO",
	"paymethods":["VISA","MASTERCARD"],
	"telephone":"52-55-51416020",
	"prices":[{"price":2157,"room":"single"},{"price":2500,"room":"double"}],
	"header":"Z",
	"latitude":19.4286,
	"name":"Holiday Inn Hotel & Suites - MEXICO ZONA ROSA",
	"stars":4,
	"id":2,
	"longitude":-99.1586
}

];

var searchById = function(id){
	for(var i=0; i < hotels.length; i++){
		if(hotels[i].id === id){
			return hotels[i];
		}
	}
	return null;
}

var searchByName = function(name){
	Titanium.API.log(name);
	li = [];
	for (var i=0; i < hotels.length; i++) {		
		if( hotels[i].name.indexOf(name) >= 0 ){
			li.push(hotels[i]);
		}
	}
	return li;
};

var searchNearBy = function(point,delta) {
	liNear = [];
	var pushing = "";
	var R = 6371; // km
	for (var i=0; i < hotels.length; i++) {

		var lat2 = hotels[i].latitude;
		var lat1 =  point.latitude;
		var lon1 = point.longitude;
		var lon2 = hotels[i].longitude;
		var dLat = (lat2-lat1).toRad();
		var dLon = (lon2-lon1).toRad();
		var lat1 = lat1.toRad();
		var lat2 = lat2.toRad();

		var a = Math.sin(dLat/2) * Math.sin(dLat/2) +
		Math.sin(dLon/2) * Math.sin(dLon/2) * Math.cos(lat1) * Math.cos(lat2);
		var c = 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1-a));
		var d = R * c;

		Ti.API.info("\n\n ********************currLatitude = " + point.latitude +", currLong = " + point.longitude  + " , d = " + d);
		Ti.API.info("\n\n ********************pointLatitude = " +hotels[i].latitude +", currLong = " + hotels[i].longitude + " , d = " + d);
		if(  d <= delta ) {
			pushing = pushing +" puching widh d = " + d;
			liNear.push({
				hotel:hotels[i],
				distance:d.toFixed(2)
			});
		}
	}
	Ti.API.info("pushing = " + pushing);
	return liNear;
};
